{% extends "base.html" %}

{% block content %}
  {% if config.flag_homepage %}
    <div class="page-header">
    <h2>Search Trains</h2>
    <em>Explore India on the wonderful train network!</em>
    </div>

    <form id="trains-search" autocomplete=off>
      <div class="mb-3" id="from-station-div">
        <label for="from-station-text" class="form-label">From</label>
        <input type="text" name="from-name" class="form-control" id="from-station-text">
        <input type="hidden" name ="from" class="form-control" id="from-station">
        <ul id="from-station-autocomplete-items" class="form-control autocomplete-list" style="display: none;" data-text-target="#from-station-text" data-value-target="#from-station">
        </ul>
      </div>
      <div class="mb-3" id="to-station-div">
        <label for="from-station" class="form-label">To</label>
        <input type="text" name="to-name" class="form-control" id="to-station-text">
        <input type="hidden" name="to" class="form-control" id="to-station">
        <ul id="to-station-autocomplete-items" class="form-control autocomplete-list" style="display: none;" data-text-target="#to-station-text" data-value-target="#to-station">
        </ul>
      </div>
      <div class="row mb-3">
        {% if config.flag_ticketclass_in_search %}
        <div class="col-auto d-flex align-items-end">
            <select name="ticket_class" class="form-select">
                <option selected value="">Select ticket class</option>
                <option value="sleeper">Sleeper</option>
                <option value="third_ac">Third AC</option>
                <option value="second_ac">Second AC</option>
                <option value="first_ac">First AC</option>
                <option value="first_class">First Class</option>
                <option value="chair_car">Chair Car</option>
            </select>
        </div>
        {% endif %}
      </div>
      <button type="submit" class="btn btn-primary">Search Trains</button>
    </form>

    <div id="trains" class="mt-3">
    </div>

  {% else %}
  <div>
    <br>

    <div class="alert alert-warning" role="alert">
      <h4 class="alert-heading">Hold On!</h4>
      <p>You need to set the feature flag <code>flag_homepage = True</code> in the <code>rajdhani/config.py</code> to enable the home page.</p>
    </div>
  </div>

  {% endif %}
{% endblock %}
