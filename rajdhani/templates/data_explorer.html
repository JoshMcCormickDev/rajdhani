{% extends "base.html" %}

{% block content %}

<div class="page-header">
    <h2>Data Explorer</h2>
    <em>Explore data by writing any SQL query</em>
</div>

<div class="mb-4">
    The database has two tables train and station. See <a href="https://gist.github.com/anandology/60417923ddcee758f0eb70676439a4ae">schema</a>.

    <div>
    Some sample queries:
<pre>
SELECT * FROM train limit 10;
SELECT * FROM train where from_station_code='SBC';
SELECT * FROM station where state='Karnataka';
</pre>
    </div>
</div>

<div class="mb-5">
    <div class="mb-2">
        <label class="form-label">Your SQL query</label>
        <textarea id="query" class="form-control">SELECT name, number FROM train LIMIT 2</textarea>
    </div>

    <button id="btn-run" type="button" class="btn btn-primary">Run</button>
</div>

<div id="output">
    <div id="errors"></div>
    <div id="output-table"></div>
</div>

{% endblock %}

{% block stylesheets %}
{{ super() }}

<link href="https://unpkg.com/frappe-datatable@1.16.5/dist/frappe-datatable.min.css" rel="stylesheet">
{% endblock %}

{% block javascripts %}
{{ super() }}

<script src="https://unpkg.com/clusterize.js@0.18.0/clusterize.min.js"></script>
<script src="https://unpkg.com/sortablejs@1.7.0/Sortable.min.js"></script>
<script src="https://unpkg.com/frappe-datatable@1.16.5/dist/frappe-datatable.min.js"></script>

<script src="/static/data_explorer.js"></script>
{% endblock %}
